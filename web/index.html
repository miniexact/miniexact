<html>
  <head>
    <title>Exact Cover: Mobile Edition</title>
    <meta charset="utf-8"/>

    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <style>
      #input.hover {
          color: #495057;
          background-color: #fff;
          border-color: #ffc107;
          outline: 0;
          box-shadow: 0 0 0 0.2rem rgba(255, 193, 7, 0.25);
      }
      /* Auto Grow Text-Areas: https://css-tricks.com/the-cleanest-trick-for-autogrowing-textareas/ */

      .grow-wrap {
          display: grid;
      }
      .grow-wrap::after {
          content: attr(data-replicated-value) " ";
          white-space: pre-wrap;
          visibility: hidden;
      }
      .grow-wrap > textarea {
          resize: none;
          overflow: hidden;
      }
      .grow-wrap > textarea,
      .grow-wrap::after {
          padding: 0.5rem;
          font: inherit;

          grid-area: 1 / 1 / 2 / 2;
      }
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body class="d-flex flex-column h-100">
    <main role="main">
      <div class="container">
        <h1>Exact Cover: Mobile Edition</h1>

        <form>
          <div class="row">
            <div class="col">
              <div class="form-check">
                <input class="form-check-input"
                       type="radio"
                       id="algorithm-x"
                       name="algorithm"
                       value="x">
                <label class="form-check-label" for="algorithm-x" style="width: 100%;">
                  Algorithm X (Exact Cover)
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input"
                       type="radio"
                       id="algorithm-c"
                       name="algorithm"
                       value="c"
                       checked>
                <label class="form-check-label" for="algorithm-c" style="width: 100%;">
                  Algorithm C (Exact Cover with Colors)
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input"
                       type="radio"
                       id="algorithm-m"
                       name="algorithm"
                       value="m">
                <label class="form-check-label" for="algorithm-m" style="width: 100%;">
                  Algorithm M (Exact Cover with Colors and Multiplicty)
                </label>
              </div>

              <div class="form-check form-check-inline">
                <input class="form-check-input"
                       type="checkbox"
                       id="option-enumerate"
                       value="option-enumerate">
                <label class="form-check-label" for="option-enumerate">Enumerate all solutions</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input"
                       type="checkbox"
                       id="option-print"
                       value="option-print"
                       checked>
                <label class="form-check-label" for="option-verbose">Print Options</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input"
                       type="checkbox"
                       id="option-verbose"
                       value="option-verbose">
                <label class="form-check-label" for="option-verbose">Verbose</label>
              </div>
            </div>
            <div class="col">
              <div class="progress" id="loading-indicator" style="height: 3em;">
                <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">Loading and Processing WebAssembly of xccsolve...</div>
              </div>
              <button tabindex="0" type="button" style="display: none; width: 100%;" class="btn btn-primary btn-block" onclick="run_();" id="run-btn">Run (or Shift+Enter in input area)</button>
            </div>
          </div>
        </form>

        <div class="row">
          <div class="col-md-6">
            <h2>Input <span style="" class="badge badge-secondary hide d-none d-md-inline-block d-lg-inline-block" id="input_annotation"></span></h2>
            <div class="grow-wrap">
              <textarea tabindex="2"
                        class="form-control js-auto-size"
                        id="input"
                        onInput="this.parentNode.dataset.replicatedValue = this.value"></textarea>
            </div>
          </div>
          <div class="col-md-6">
            <div id="stdout_area">
              <h2>Output</h2>
              <div class="grow-wrap">
                <textarea tabindex="3"
                          class="form-control js-auto-size"
                          id="stdout"></textarea>
              </div>
            </div>
            <div id="stderr_area">
              <h2>Errors</h2>
              <div class="grow-wrap">
                <textarea tabindex="4"
                          class="form-control js-auto-size"
                          id="stderr"></textarea>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script src="main.js"></script>
    <script src="xccsolve.js"></script>

    <script>
      document.getElementById("input").focus();
    </script>
  </body>
</html>
